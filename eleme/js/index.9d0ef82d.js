(function(t){function e(e){for(var n,a,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)a=r[u],i[a]&&d.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,a=1;a<s.length;a++){var r=s[a];0!==i[r]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=s[0]))}return t}var n={},a={index:0},i={index:0},o=[];function r(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"65ada779","chunk-1b2c5f59":"d00aeb8e"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(t){var e=[],s={about:1,"chunk-1b2c5f59":1};a[t]?e.push(a[t]):0!==a[t]&&s[t]&&e.push(a[t]=new Promise(function(e,s){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"24f9e9b6","chunk-1b2c5f59":"28060993"}[t]+".css",i=c.p+n,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===i))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===n||u===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");o.request=n,delete a[t],f.parentNode.removeChild(f),s(o)},f.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(f)}).then(function(){a[t]=0}));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(e,s){n=i[t]=[e,s]});e.push(n[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t),l=function(e){u.onerror=u.onload=null,clearTimeout(d);var s=i[t];if(0!==s){if(s){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+n+": "+a+")");o.type=n,o.request=a,s[1](o)}i[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(s,n,function(e){return t[e]}.bind(null,n));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/online/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1057:function(t,e,s){"use strict";var n=s("15ee"),a=s.n(n);a.a},"15ee":function(t,e,s){},"29cd":function(t,e,s){"use strict";var n=s("2eb0"),a=s.n(n);a.a},"2e59":function(t,e,s){"use strict";var n=s("6495"),a=s.n(n);a.a},"2eb0":function(t,e,s){},"3eb3":function(t,e,s){},"3f93":function(t,e,s){},4820:function(t,e,s){},"4ee2":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("vheader"),s("div",{staticClass:"tab"},[s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:{name:"goods"}}},[t._v("商品")])],1),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/ratings"}},[t._v("评论")])],1),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/seller"}},[t._v("商家")])],1)]),s("keep-alive",[s("router-view")],1)],1)},i=[],o=(s("96cf"),s("3b8d")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.seller?s("div",{staticClass:"theader"},[s("div",{staticClass:"content-wrapper"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{width:"64",height:"64",src:t.seller.avatar}})]),s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[s("span",{staticClass:"brand"}),s("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),s("div",{staticClass:"description"},[t._v("\n        "+t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达\n      ")]),t.seller.supports?s("div",{staticClass:"support"},[s("span",{staticClass:"icon",class:t.classMap[t.seller.supports[0].type]}),s("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))])]):t._e()]),t.seller.supports?s("div",{staticClass:"support-count",on:{click:t.showDetail}},[s("span",{staticClass:"count"},[t._v(t._s(t.seller.supports.length)+"个")]),s("i",{staticClass:"icon-keyboard_arrow_right"})]):t._e()]),s("div",{staticClass:"bulletin-wrapper",on:{click:t.showDetail}},[s("span",{staticClass:"bulletin-title"}),s("span",{staticClass:"bulletin-text"},[t._v(t._s(t.seller.bulletin))]),s("i",{staticClass:"icon-keyboard_arrow_right"})]),s("div",{staticClass:"background"},[s("img",{attrs:{src:t.seller.avatar,width:"100%",height:"100%"}}),t._v(">\n  ")]),s("transition",{attrs:{name:"bounce"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"detail"},[s("div",{staticClass:"detail-wrapper clearfix"},[s("div",{staticClass:"detail-main"},[s("h1",{staticClass:"name"},[t._v(t._s(t.seller.name))]),s("div",{staticClass:"star-wrapper"},[s("star",{attrs:{size:48,score:t.seller.score}})],1),s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),s("div",{staticClass:"text"},[t._v("优惠信息")]),s("div",{staticClass:"line"})]),t.seller.supports?s("ul",{staticClass:"supports"},t._l(t.seller.supports,function(e,n){return s("li",{key:n,staticClass:"supports-item"},[s("span",{staticClass:"icon",class:t.classMap[e.type]}),s("span",{staticClass:"text"},[t._v(t._s(e.description))])])}),0):t._e(),s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),s("div",{staticClass:"text"},[t._v("商家公告")]),s("div",{staticClass:"line"})]),s("div",{staticClass:"bulletin"},[s("p",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])])])]),s("div",{staticClass:"detail-close",on:{click:t.hideDetail}},[s("i",{staticClass:"icon-close"})])])])],1):t._e()},c=[],l=s("80a5"),u={data:function(){return{detailShow:!1}},computed:{seller:function(){return this.$store.state.shop.seller}},methods:{showDetail:function(){this.detailShow=!0},hideDetail:function(){this.detailShow=!1}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},components:{star:l["a"]}},d=u,f=(s("29cd"),s("2877")),h=Object(f["a"])(d,r,c,!1,null,"7b8394cc",null),p=h.exports,v={name:"app",methods:{getData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("getShop");case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.$store.dispatch("getShop")},components:{vheader:p}},m=v,g=(s("5c0b"),Object(f["a"])(m,a,i,!1,null,null,null)),C=g.exports,_=s("8c4f"),w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.goods?s("div",{staticClass:"goods"},[s("div",{ref:"menuWrapper",staticClass:"menu-wrapper"},[t.goods&&0!=t.goods.length?s("ul",t._l(t.goods,function(e,n){return s("li",{key:n,staticClass:"menu-item",class:{current:t.currentIndex===n},on:{click:function(e){return t.selectMenu(n,e)}}},[s("span",{staticClass:"text border-1px"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.type>0,expression:"good.type>0"}],staticClass:"icon",class:t.classMap[e.type]}),t._v(t._s(e.name)+"\n        ")])])}),0):t._e()]),s("div",{ref:"foodsWrapper",staticClass:"foods-wrapper"},[s("ul",t._l(t.goods,function(e,n){return s("li",{key:n,staticClass:"food-list food-list-hook"},[s("h1",{staticClass:"title"},[t._v(t._s(e.name))]),s("ul",t._l(e.foods,function(e,n){return s("li",{key:n,staticClass:"food-item border-1px",on:{click:function(s){return t.selectFood(e,s)}}},[s("div",{staticClass:"icon"},[s("img",{attrs:{src:e.icon,width:"57",height:"57"}})]),s("div",{staticClass:"content"},[s("h2",{staticClass:"name"},[t._v(t._s(e.name))]),s("p",{staticClass:"desc"},[t._v(t._s(e.description))]),s("div",{staticClass:"extra"},[s("span",{staticClass:"count"},[t._v("月售"+t._s(e.sellCount)+"份")]),s("span",[t._v("好评率"+t._s(e.rating)+"%")])]),s("div",{staticClass:"price"},[s("span",{staticClass:"now"},[t._v("￥"+t._s(e.price))]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(e.oldPrice))])]),s("div",{staticClass:"cartcontrol-wrapper"},[s("Cartcontrol",{attrs:{food:e},on:{cartAdd:t.cartAdd}})],1)])])}),0)])}),0)]),s("shopcart",{ref:"shopcart",attrs:{selectFoods:t.selectFoods,"delivery-price":t.seller.deliveryPrice,"min-price":t.seller.minPrice}}),s("food",{ref:"food",attrs:{food:t.selectedFood},on:{cartAdd:t.cartAdd}})],1):t._e()},y=[],b=(s("ac6a"),s("1fba")),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"shopcart"},[s("div",{staticClass:"content",on:{click:t.toggleList}},[s("div",{staticClass:"content-left",class:{highlight:t.totalCount>0}},[s("div",{staticClass:"logo-wrapper"},[t._m(0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount > 0"}],staticClass:"num"},[t._v(t._s(t.totalCount))])]),s("div",{staticClass:"price"},[t._v("￥"+t._s(t.totalPrice))]),s("div",{staticClass:"desc"},[t._v("另需配送费￥"+t._s(t.deliveryPrice)+"元")])]),s("div",{staticClass:"content-right",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.pay(e)}}},[s("div",{staticClass:"pay",class:t.payClass},[t._v(t._s(t.payDesc))])])]),s("div",{staticClass:"ball-container"},[t._l(t.balls,function(e,n){return[s("transition",{key:n,attrs:{name:"drop"},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"ball.show"}],staticClass:"ball"},[s("div",{staticClass:"inner inner-hook"})])])]})],2),s("transition",{attrs:{name:"fold"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"shopcart-list"},[s("div",{staticClass:"list-header"},[s("h1",{staticClass:"title"},[t._v("购物车")]),s("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),s("div",{ref:"listContent",staticClass:"list-content"},[s("ul",t._l(t.selectFoods,function(e,n){return s("li",{key:n,staticClass:"food border-1px"},[s("span",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"price"},[t._v("￥"+t._s(e.price*e.count))]),s("div",{staticClass:"cartcontrol-wrapper"},[s("cartcontrol",{attrs:{food:e},on:{cartAdd:t.drop}})],1)])}),0)])])])],1),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"list-mask",on:{click:t.hideList}})])],1)},k=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo"},[s("i",{staticClass:"icon-shopping_cart"})])}],T=(s("c5f6"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cartcontrol"},[s("transition",{attrs:{name:"move"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-decrease",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.decreaseCart(e)}}},[s("span",{staticClass:"inner icon-remove_circle_outline"})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))]),s("div",{staticClass:"cart-add icon-add_circle",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addCart(e)}}})],1)}),$=[],S={props:{food:{type:Object}},methods:{addCart:function(t){t._constructed&&(this.food.count?this.food.count+=1:n["a"].set(this.food,"count",1),this.$emit("cartAdd",t.target))},decreaseCart:function(t){t._constructed&&this.food.count&&(this.food.count-=1)}}},P=S,E=(s("1057"),Object(f["a"])(P,T,$,!1,null,"8888f1f2",null)),N=E.exports,F={props:{selectFoods:{type:Array,default:function(){return[]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],fold:!0}},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.price*e.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.count}),t},payDesc:function(){if(0===this.totalPrice)return"￥".concat(this.minPrice,"元起送");if(this.totalPrice<this.minPrice){var t=this.minPrice-this.totalPrice;return"还差￥".concat(t,"元起送")}return"去结算"},payClass:function(){return this.totalPrice<this.minPrice?"not-enough":"enough"},listShow:function(){var t=this;if(!this.totalCount)return this.fold=!0,!1;var e=!this.fold;return e&&this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new b["a"](t.$refs.listContent,{click:!0})}),e}},methods:{drop:function(t){for(var e=0;e<this.balls.length;e+=1){var s=this.balls[e];if(!s.show)return s.show=!0,s.el=t,void this.dropBalls.push(s)}},beforeEnter:function(t){var e=t,s=this.balls.length;while(s--){var n=this.balls[s];if(n.show){var a=n.el.getBoundingClientRect(),i=a.left-32,o=-(window.innerHeight-a.top-22);e.style.display="",e.style.webkitTransform="translate3d(0, ".concat(o,"px, 0)"),e.style.transform="translate3d(0, ".concat(o,"px, 0)");var r=t.getElementsByClassName("inner-hook")[0];r.style.webkitTransform="translate3d(".concat(i,"px, 0, 0)"),r.style.transform="translate3d(".concat(i,"px, 0, 0)")}}},enter:function(t){var e=t;t.offsetHeight;this.$nextTick(function(){e.style.webkitTransform="translate3d(0, 0, 0)",e.style.transform="translate3d(0, 0, 0)";var s=t.getElementsByClassName("inner-hook")[0];s.style.webkitTransform="translate3d(0, 0, 0)",s.style.transform="translate3d(0, 0, 0)"})},afterEnter:function(t){var e=t,s=this.dropBalls.shift();s&&(s.show=!1,e.style.display="none")},toggleList:function(){this.totalCount&&(this.fold=!this.fold)},empty:function(){this.selectFoods.forEach(function(t){t.count=0})},hideList:function(){this.fold=!0},pay:function(){this.totalPrice<this.minPrice||window.alert("支付".concat(this.totalPrice,"元"))}},components:{Cartcontrol:N}},j=F,O=(s("2e59"),Object(f["a"])(j,x,k,!1,null,"d20c1606",null)),M=O.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"move"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],ref:"food",staticClass:"food"},[s("div",{staticClass:"food-content"},[s("div",{staticClass:"image-header"},[s("img",{attrs:{src:t.food.image}}),s("div",{staticClass:"back",on:{click:t.hide}},[s("i",{staticClass:"icon-arrow_lift"})])]),s("div",{staticClass:"content"},[s("h1",{staticClass:"title"},[t._v(t._s(t.food.name))]),s("div",{staticClass:"detail"},[s("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.food.sellCount))]),s("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.food.rating))])]),s("div",{staticClass:"price"},[s("span",{staticClass:"now"},[t._v("￥"+t._s(t.food.price))]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.food.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(t.food.oldPrice))])]),s("div",{staticClass:"cartcontrol-wrapper"},[s("cartcontrol",{attrs:{food:t.food},on:{cartAdd:t.addFood}})],1),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count||0===t.food.count,expression:"!food.count || food.count === 0"}],staticClass:"buy",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFirst(e)}}},[t._v("加入购物车")])])],1),s("split",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}],staticClass:"info"},[s("h1",{staticClass:"title"},[t._v("商品信息")]),s("p",{staticClass:"text"},[t._v(t._s(t.food.info))])]),s("split"),s("div",{staticClass:"rating"},[s("h1",{staticClass:"title"},[t._v("商品评价")]),s("ratingselect",{attrs:{"select-type":t.selectType,"only-content":t.onlyContent,desc:t.desc,ratings:t.food.ratings},on:{selectRatingtype:t.selectRatingtype,contentToggle:t.contentToggle}}),s("div",{staticClass:"rating-wrapper"},[s("ul",{directives:[{name:"show",rawName:"v-show",value:t.food.ratings&&t.food.ratings.length,expression:"food.ratings && food.ratings.length"}]},t._l(t.food.ratings,function(e,n){return s("li",{directives:[{name:"show",rawName:"v-show",value:t.needShow(e.rateType,e.text),expression:"needShow(rating.rateType,rating.text)"}],key:n,staticClass:"rating-item border-1px"},[s("div",{staticClass:"user"},[s("span",{staticClass:"name"},[t._v(t._s(e.username))]),s("img",{staticClass:"avatar",attrs:{src:e.avatar,width:"12",height:"12"}})]),s("div",{staticClass:"time"},[t._v(t._s(t._f("dateFormat")(e.rateTime)))]),s("div",{staticClass:"text"},[s("span",{class:{"icon-thumb_up":0===e.rateType,"icon-thumb_down":1===e.rateType}},[t._v(t._s(e.text))])])])}),0),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.ratings||!t.food.ratings.length,expression:"!food.ratings || !food.ratings.length"}],staticClass:"no-rating"},[t._v("暂无评价")])])],1)],1)])])},D=[],H=s("d83f"),R=s("ad93"),B=s("a28e"),L=2,W={props:{food:{type:Object}},data:function(){return{showFlag:!1,selectType:L,onlyContent:!0,desc:{all:"全部",positive:"推荐",negative:"吐槽"}}},methods:{show:function(){var t=this;this.showFlag=!0,this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new b["a"](t.$refs.food,{click:!0})})},hide:function(){this.showFlag=!1},addFood:function(t){this.$emit("cartAdd",t)},addFirst:function(t){t._constructed&&(n["a"].set(this.food,"count",1),this.$emit("cartAdd",t.target))},needShow:function(t,e){return!(this.onlyContent&&!e)&&(this.selectType===L||t===this.selectType)},selectRatingtype:function(t){var e=this;this.selectType=t,this.$nextTick(function(){e.scroll.refresh()})},contentToggle:function(t){var e=this;this.onlyContent=t,this.$nextTick(function(){e.scroll.refresh()})}},components:{Cartcontrol:N,Split:R["a"],Ratingselect:H["a"]},filters:{dateFormat:function(t){var e=new Date(t);return Object(B["a"])(e,"yyyy-MM-dd hh:mm")}}},Y=W,z=(s("d500"),Object(f["a"])(Y,A,D,!1,null,"fda095f6",null)),q=z.exports,I={props:["shopdata"],data:function(){return{listHeight:[],scrollY:0,selectedFood:{}}},methods:{cartAdd:function(t){var e=this;this.$nextTick(function(){e.$refs.shopcart.drop(t)})},initScroll:function(){var t=this;this.menuScroll=new b["a"](this.$refs.menuWrapper,{click:!0}),this.foodScroll=new b["a"](this.$refs.foodsWrapper,{click:!0,probeType:3}),this.foodScroll.on("scroll",function(e){t.scrollY=Math.abs(Math.round(e.y))+1})},calculateHeight:function(){var t=this.$refs.foodsWrapper.getElementsByClassName("food-list-hook"),e=0;this.listHeight.push(e);for(var s=0;s<t.length;s+=1){var n=t[s];e+=n.clientHeight,this.listHeight.push(e)}},selectMenu:function(t,e){if(e._constructed){var s=this.$refs.foodsWrapper.getElementsByClassName("food-list-hook"),n=s[t];this.foodScroll.scrollToElement(n,300)}},selectFood:function(t,e){e._constructed&&(this.selectedFood=t,this.$refs.food.show())}},computed:{goods:function(){var t=this;return this.$store.state.shop.goods&&this.$nextTick(function(){t.initScroll(),t.calculateHeight()}),this.$store.state.shop.goods},seller:function(){return this.$store.state.shop.seller},currentIndex:function(){for(var t=0;t<this.listHeight.length;t+=1){var e=this.listHeight[t],s=this.listHeight[t+1];if(!s||this.scrollY>=e&&this.scrollY<s)return t}return 0},selectFoods:function(){var t=[];return this.goods.forEach(function(e){e.foods.forEach(function(e){e.count&&t.push(e)})}),t}},watch:{},created:function(){var t=this;this.goods&&this.$nextTick(function(){t.initScroll(),t.calculateHeight()}),this.classMap=["decrease","discount","special","invoice","guarantee"]},components:{Shopcart:M,Cartcontrol:N,Food:q}},J=I,G=(s("f930"),Object(f["a"])(J,w,y,!1,null,"335b3712",null)),K=G.exports;n["a"].use(_["a"]);var Q=new _["a"]({mode:"history",base:"/online/",linkActiveClass:"active",routes:[{path:"/",redirect:"goods"},{path:"/goods",name:"goods",component:K},{path:"/ratings",name:"ratings",component:function(){return s.e("about").then(s.bind(null,"c19a"))}},{path:"/seller",name:"seller",component:function(){return s.e("chunk-1b2c5f59").then(s.bind(null,"03a5"))}}]}),U=s("2f62"),V=s("795b"),X=s.n(V),Z=s("bc3a"),tt=s.n(Z),et=200;function st(t,e){return new X.a(function(s,n){"get"===e.method&&tt.a.get(t,e.data).then(function(t){t&&t.status===et&&s(t.data)}).catch(function(t){n(t)})})}var nt={getShop:function(){return st("/api/seller",{method:"get"})}};n["a"].use(U["a"]);var at=new U["a"].Store({state:{shop:{}},mutations:{setShop:function(t,e){t.shop=e}},actions:{getShop:function(t){var e=t.commit;nt.getShop().then(function(t){e("setShop",t)})}}});s("4ee2");n["a"].config.productionTip=!1,new n["a"]({router:Q,store:at,render:function(t){return t(C)}}).$mount("#app")},"5b15":function(t,e,s){},"5c0b":function(t,e,s){"use strict";var n=s("9ed3"),a=s.n(n);a.a},6495:function(t,e,s){},"7b22":function(t,e,s){"use strict";var n=s("ce03"),a=s.n(n);a.a},"80a5":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"star",class:t.starType},t._l(t.itemClasses,function(t,e){return s("span",{key:e,staticClass:"star-item",class:t})}),0)},a=[],i=(s("c5f6"),5),o="on",r="half",c="off",l={props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-".concat(this.size)},itemClasses:function(){for(var t=[],e=Math.floor(2*this.score)/2,s=e%1!==0,n=Math.floor(e),a=0;a<n;a+=1)t.push(o);s&&t.push(r);while(t.length<i)t.push(c);return t}}},u=l,d=(s("fc24"),s("2877")),f=Object(d["a"])(u,n,a,!1,null,"560ba6d6",null);e["a"]=f.exports},"9ed3":function(t,e,s){},a28e:function(t,e,s){"use strict";s.d(e,"a",function(){return a});s("3b2b"),s("a481");function n(t){return"00".concat(t).substr(t.length)}function a(t,e){var s=e;/(y+)/.test(s)&&(s=s.replace(RegExp.$1,"".concat(t.getFullYear()).substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var i in a)if(new RegExp("(".concat(i,")")).test(s)){var o="".concat(a[i]);s=s.replace(RegExp.$1,1===RegExp.$1.length?o:n(o))}return s}},ad93:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"split"})},a=[],i={},o=i,r=(s("7b22"),s("2877")),c=Object(r["a"])(o,n,a,!1,null,"13c15a43",null);e["a"]=c.exports},ce03:function(t,e,s){},d500:function(t,e,s){"use strict";var n=s("3eb3"),a=s.n(n);a.a},d83f:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ratingselect"},[s("div",{staticClass:"rating-type border-1px"},[s("span",{staticClass:"block positive",class:{active:2===t.selectType},on:{click:function(e){return t.select(2,e)}}},[t._v(t._s(t.desc.all)),s("span",{staticClass:"count"},[t._v(t._s(t.ratings.length))])]),s("span",{staticClass:"block positive",class:{active:0===t.selectType},on:{click:function(e){return t.select(0,e)}}},[t._v(t._s(t.desc.positive)),s("span",{staticClass:"count"},[t._v(t._s(t.positives.length))])]),s("span",{staticClass:"block negative",class:{active:1===t.selectType},on:{click:function(e){return t.select(1,e)}}},[t._v(t._s(t.desc.negative)),s("span",{staticClass:"count"},[t._v(t._s(t.negatives.length))])])]),s("div",{staticClass:"switch",class:{on:t.onlyContent},on:{click:t.toggleContent}},[s("i",{staticClass:"icon-check_circle"}),s("span",{staticClass:"text"},[t._v("只看有内容的评价")])])])},a=[],i=(s("c5f6"),0),o=1,r=2,c={props:{ratings:{type:Array,default:function(){return[]}},selectType:{type:Number,default:r},onlyContent:{type:Boolean,default:!1},desc:{type:Object,default:function(){return{all:"全部",positive:"满意",negative:"不满意"}}}},data:function(){return{selectType2:this.selectType,onlyContent2:this.onlyContent}},created:function(){console.log("ratingselect created")},methods:{select:function(t,e){e._constructed&&(this.selectType2=t,this.$emit("selectRatingtype",t))},toggleContent:function(t){t._constructed&&(this.onlyContent2=!this.onlyContent2,this.$emit("contentToggle",this.onlyContent2))}},computed:{positives:function(){return this.ratings.filter(function(t){return t.rateType===i})},negatives:function(){return this.ratings.filter(function(t){return t.tateType===o})}}},l=c,u=(s("f7da"),s("2877")),d=Object(u["a"])(l,n,a,!1,null,"68a109f8",null);e["a"]=d.exports},f7da:function(t,e,s){"use strict";var n=s("4820"),a=s.n(n);a.a},f930:function(t,e,s){"use strict";var n=s("3f93"),a=s.n(n);a.a},fc24:function(t,e,s){"use strict";var n=s("5b15"),a=s.n(n);a.a}});